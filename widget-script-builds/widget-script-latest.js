!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){function n(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(t,e){if(!e.bibleTagsWidget){var i,a,l={};(document.currentScript||document.getElementById("bibletags-widget-script")).getAttribute("src").split("#").slice(1).join("#").split("&").forEach(function(t){var e=t.split("=");l[e[0]]=e[1]}),"local"===l.widget?(i="*",a="http://localhost:3000/index.html"):a="staging"===l.widget?"".concat(i="https://cdn.staging.bibletags.org","/widget/build/index.html"):"".concat(i="https://cdn.bibletags.org","/widget/build/index.html");var c,d="#data=".concat(l.data||""),s=[],u=1,p={},f={},h=1,g=function(e,n){var o=t.createElement(e);for(var i in n)o[i]=n[i];return o},b=function(){return Math.min(e.innerWidth,e.innerHeight)<500},y=function(e){return!b()&&e.containerEl||t.body},v=function(t){var e=g("div");!function(t){var e=t.style;e.position="absolute",e.overflow="hidden",e.top=0,e.left=0,e.width="1px",e.height="1px",e.visibility="hidden"}(e);var n=g("div",{style:"\n        position: absolute;\n        width: 16px;\n        height: 16px;\n        border: 1px solid #333;\n      "}),o=g("iframe",{src:"".concat(a).concat(d).concat(t?"&utility=1":""),style:"\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 1px;\n        background: white;\n        border: none;\n      "});return o.addEventListener("load",function(){return o.loaded=!0}),e.appendChild(n),e.appendChild(o),{widgetEl:e,arrowEl:n,iframeEl:o}},m=function(t){var e=t&&getComputedStyle(t);t&&"static"===e.position&&t.style.setProperty("position","relative","important")},E=function(){if(!c||!t.body.contains(c.iframeEl)){(c=v(!0)).actionIndexResponseMap={};var n=c,o=n.widgetEl,r=n.arrowEl,a=n.iframeEl,l=n.actionIndexResponseMap;r.remove();e.addEventListener("message",function(t){var e=t.data,n=t.source,o=t.origin;if(n==a.contentWindow&&(o==i||"*"==i)){var r=l[e.payload.actionIndex];r&&r({data:e}),delete l[e.payload.actionIndex]}}),t.body.appendChild(o)}return c},w=function(){var e=s.map(function(t){return t.widgetEl.parentNode});r(f.containerEls instanceof Array?f.containerEls:[]).concat([t.body]).slice(0,10).forEach(function(t){if(!e.includes(t)){var n=v();s.push(n),m(t),t.appendChild(n.widgetEl)}}),E()},x=function(t){if(p[t]){var n=p[t],o=n.widgetEl,i=n.iframeElEvent;o.remove(),e.removeEventListener("message",i),delete p[t]}},O=function(t){var e=t.action,n=t.payload,r=t.handleResponse,a=E(),l=(a.widgetEl,a.iframeEl),c=a.actionIndexResponseMap,d=u++,s=function(){l.contentWindow.postMessage({action:e,payload:o({},n,{actionIndex:d})},i)};r&&(c[d]=r),l.loaded?s():l.addEventListener("load",s)},j=t.createElement("style");j.innerHTML="",t.head.appendChild(j),e.addEventListener("load",w),e.bibleTagsWidget={setUp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o({},f=t||{});delete e.containerEls,O({action:"setUp",payload:{settings:e}}),w()},preload:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O({action:"preload",payload:{settings:f,options:t}})},show:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=h++,a=function(e){var n=e.options,o=b(),i=y(n),r=parseInt(n.margin,10)||10,a=o?{x:0,y:0}:n.containerElTargetScroll||{x:i.scrollLeft,y:i.scrollTop},l=i.getBoundingClientRect(),c=i.clientWidth,d=i.clientHeight,s=l.top+.1*l.height,u=n.anchorEl?n.anchorEl.getBoundingClientRect():{top:s,bottom:s,left:l.left+c/2,width:0,height:0},p=getComputedStyle(i),f=parseInt(p.borderTopWidth,10)||0,h=parseInt(p.borderLeftWidth,10)||0,g=l.height-d-f,v=l.width-c-h,m=o?"100%":Math.max(Math.min(c-2*r,400),.1),E=u.top-l.top-f,w=l.bottom-u.bottom-g,x=u.top,O=t.body.clientHeight-u.bottom,j=Math.min(E,x),M=Math.min(w,O),k=a.y+E,I=(i.scrollHeight,u.height,a.x+(u.left-h-l.left)),L=M>800||(Math.max(M,j)>=200?M>=j:O>=x),C=o?0:L?k+u.height:null,S=o?0:L?null:w-a.y+u.height,P=o?0:Math.min(Math.max(I+u.width/2-m/2,a.x+Math.max(-1*l.left-h,0)+r),c+i.scrollLeft-Math.max(l.right-v-t.body.clientWidth,0)-r-m),T=o?"100vh":Math.max((L?M:j)-r,200);return{top:C,bottom:S,left:P,width:m,maxHeight:T,height:o?"100vh":Math.min(250,T),position:o?"fixed":"absolute",zIndex:(null!=n.zIndex?n.zIndex:100)+"",border:o?"":"1px solid #333",borderRadius:o?0:3,boxShadow:o?"":"0 2px 8px rgba(0,0,0,.2)",visibility:"visible"}}({options:n}),l=y(n),c=function(){for(var t=0;t<s.length;t++)if(s[t].widgetEl.parentNode===l)return s.splice(t,1)[0];return s.length>0?s.splice(0,1)[0]:v()}(),d=c.widgetEl,u=c.iframeEl,g=c.arrowEl;f.containerEls instanceof Array?(f.containerEls=f.containerEls.filter(function(t){return t!==l}),f.containerEls.unshift(l)):f.containerEls=[l],u.style.width="".concat(a.width,"px"),n.maxHeight=a.maxHeight;var E=function(){var t=o({},f),e=o({},n);delete t.containerEls,delete e.anchorEl,delete e.containerEl,(e.addlOptions||[]).forEach(function(t){return t.callback=!!t.callback}),e.fetchVerseCallback=!!e.fetchVerseCallback,e.jumpToLocation&&(e.jumpToLocation.callback=!!e.jumpToLocation.callback),e.searchData&&(e.searchData.callback=!!e.searchData.callback),e.infoCallback=!!e.infoCallback,u.contentWindow.postMessage({action:"show",payload:{settings:t,options:e}},i)},O=function(t){var e=t.data,n=t.source,o=t.origin;if(n==u.contentWindow&&(o==i||"*"==i))switch(e.action){case"close":x(r);break;case"ready":!function(t){var e=t.widgetEl,n=t.style,o=t.iframeEl,i=function(t){return"number"==typeof t?"".concat(t,"px"):null==t?"auto":t};for(var r in n)e.style[r]=i(n[r]);o.style.width="100%",o.style.height="100%"}({widgetEl:d,style:a,iframeEl:u}),setTimeout(function(){return d.style.transition="height .1s ease-in-out"},100);break;case"updateHeight":var l=parseInt(e.payload.height);l&&(d.style.height="".concat(l,"px"),a.height=l)}};return d.parentElement!=l&&(m(l),u.loaded=!1,l.appendChild(d)),n.anchorEl&&!b()||g.remove(),e.addEventListener("message",O),u.loaded?E():u.addEventListener("load",E),p[r]={widgetEl:d,iframeElEvent:O},setTimeout(w,500),r},hide:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).widgetInstanceId;t?x(t):Object.keys(p).forEach(function(t){return x(t)})},getCorrespondingVerseLocations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,o=n(t,["callback"]);return new Promise(function(t){O({action:"getCorrespondingVerseLocations",payload:{options:o},handleResponse:function(n){var o=n.data;switch(o.action){case"reportCorrespondingVerseLocations":e&&e(o.payload.verseLocations),t(o.payload.verseLocations)}}})})},splitVerseIntoWords:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.callback,o=n(t,["callback"]);return new Promise(function(t){O({action:"splitVerseIntoWords",payload:{options:o},handleResponse:function(n){var o=n.data;switch(o.action){case"reportWordsArray":e&&e(o.payload.words),t(o.payload.words)}}})})}}}}(document,window)}]);